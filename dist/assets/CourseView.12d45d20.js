import{_ as C,s as z,u as k,b as n,a as D,U as V,c as S,d,w as t,o as f,e as a,f as e,k as s,W as l,g as o,t as i,af as R,T as _,i as x}from"./index.30c974e3.js";import{D as N}from"./DashboardLayout.92a7caee.js";import{u as y}from"./useAxios.c0777327.js";import"./NavBar.fdafe172.js";import"./setMetadata.d1028241.js";const T={__name:"CourseView",setup(E){z(()=>{w()});const p=k(),u=n({}),c=n(!1),h=n(p.currentRoute.value.params.id),g=D(),{pushToast:m}=V(),{getDataFromLocalStorage:v}=S(),w=()=>{y({url:"/get-course",payload:{unique_id:h.value},callback:r=>{r.status==="success"?u.value=r.data:p.back()}})},b=()=>{c.value=!0,y({url:"/enroll-course",payload:{course_id:u.value.id,user_id:v("user").id},callback:r=>{r.status==="success"?m({description:r.message,colorScheme:"success"}):m({description:r.message,colorScheme:"error"})},final:()=>{c.value=!1}})};return(r,L)=>(f(),d(N,{title:"Course Details"},{default:t(()=>[a(e(s),{class:"inner-content"},{default:t(()=>[a(e(s),{class:"main-content"},{default:t(()=>[a(e(s),{class:"details",display:"flex"},{default:t(()=>[a(e(s),{class:"card card-main-width main_header_padding"},{default:t(()=>[a(e(s),{class:"card-header"},{default:t(()=>[a(e(l),{class:"card-header-text text-gray-900","font-weight":"700"},{default:t(()=>[o("Course Details ")]),_:1})]),_:1}),a(e(s),{class:"card-body"},{default:t(()=>[a(e(s),{display:"flex","justify-content":"space-between","align-items":"center","border-bottom":"0.5px solid #E2E8F0","padding-bottom":"16px"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(l),{"font-weight":"450",class:"text-cool-grey-500","font-size":"14px"},{default:t(()=>[o(" Course Name ")]),_:1}),a(e(l),{class:"title"},{default:t(()=>[o(i(u.value.name),1)]),_:1})]),_:1})]),_:1}),a(e(s),{class:"course_details"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(l),{"font-weight":"450",class:"text-cool-grey-500","font-size":"14px"},{default:t(()=>[o(" course reference ")]),_:1})]),_:1}),a(e(s),{display:"flex",class:"mobile-setup"},{default:t(()=>[a(e(l),{"font-weight":"500","font-size":"16px",class:"text-cool-grey-900","margin-right":"10px"},{default:t(()=>[o(i(u.value.unique_id),1)]),_:1})]),_:1})]),_:1}),a(e(s),{class:"course_details"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(l),{"font-weight":"450",class:"text-cool-grey-500","font-size":"14px"},{default:t(()=>[o(" Instructor ")]),_:1})]),_:1}),a(e(s),{display:"flex",gap:"10px","align-items":"center",class:"mobile-setup"},{default:t(()=>[a(e(s),{display:"flex",gap:"10px","align-items":"center"},{default:t(()=>[a(e(R),{status:"blue",size:"small",avatar:{name:u.value.user?u.value.user.name:""}},null,8,["avatar"]),a(e(l),{class:"light-primary-action-color","font-weight":"500"},{default:t(()=>[o(i(u.value.user?u.value.user.name:""),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(e(s),{class:"course_details"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(l),{"font-weight":"450",class:"text-cool-grey-500","font-size":"14px"},{default:t(()=>[o(" Date ")]),_:1})]),_:1}),a(e(s),{display:"flex"},{default:t(()=>[a(e(l),{"font-weight":"500","font-size":"16px",class:"text-cool-grey-900"},{default:t(()=>[o(i(u.value.created_at),1)]),_:1})]),_:1})]),_:1}),a(e(s),{class:"course_details"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(l),{"font-weight":"450",class:"text-cool-grey-500","font-size":"14px"},{default:t(()=>[o(" Course Media ")]),_:1})]),_:1}),a(e(s),{display:"flex",gap:"10px","align-items":"center",class:"mobile-setup"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(_),{is:"a",href:u.value.media,target:"_blank",text:"View",size:"small"},null,8,["href"])]),_:1})]),_:1})]),_:1}),e(g).hasRoles(["instructor"])?(f(),d(e(s),{key:0,class:"course_details"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(l),{"font-weight":"450",class:"text-cool-grey-500","font-size":"14px"},{default:t(()=>[o(" Course Material ")]),_:1})]),_:1}),a(e(s),{display:"flex",gap:"10px","align-items":"center",class:"mobile-setup"},{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(_),{text:"Upload",size:"small"})]),_:1})]),_:1})]),_:1})):x("",!0),a(e(s),{"margin-top":"20px"},{default:t(()=>[e(g).hasRoles(["student"])?(f(),d(e(_),{key:0,loading:c.value,onClick:b,text:"Enroll",size:"medium","color-scheme":"primary"},null,8,["loading"])):x("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};var I=C(T,[["__scopeId","data-v-d20056c4"]]);export{I as default};
