import{_ as b,u as x,b as p,U as k,c as T,r as w,d as f,w as i,o as _,e as r,f as a,k as n,l as C,W as A,g as v,i as E,t as I,T as L,h as N,p as R,n as B,q as D}from"./index.30c974e3.js";import{A as O}from"./AuthLayout.aaad10c6.js";import{u as P}from"./setMetadata.d1028241.js";import{u as g}from"./useAxios.c0777327.js";var U="/images/verify-registration.png";const K=l=>(R("data-v-7dbb413d"),l=l(),B(),l),M=K(()=>D("img",{src:U,alt:"verify-registration"},null,-1)),q={__name:"VerifyEmailView",setup(l){const u=x(),d=u.currentRoute.value.meta.title,s=p(!1),t=p(!1),{pushToast:c}=k(),{addDataToLocalStorage:F,getDataFromLocalStorage:y}=T(),o=w({email:y("verification").email,code:""});P({title:d,description:d});const h=()=>{s.value=!0,t.value=!0,g({url:"/resend-verification-mail",payload:{email:o.email},callback:e=>{e.status==="success"?c({description:e.message,colorScheme:"success"}):c({description:e.message,colorScheme:"error"})},final:()=>{s.value=!1,t.value=!1}})},S=()=>{s.value=!0,t.value=!0,g({url:"/verify-email",payload:o,callback:e=>{e.status==="success"?(c({description:e.message,colorScheme:"success"}),u.push({name:"login"})):c({description:e.message,colorScheme:"error"})},final:()=>{s.value=!1,t.value=!1}})};return(e,m)=>(_(),f(O,{title:"Verify Registration",description:"A Six digit code has been sent to the email registered"},{default:i(()=>[r(a(n),{class:"verify__registration",is:"form",onSubmit:N(S,["prevent"])},{default:i(()=>[r(a(n),{class:"center"},{default:i(()=>[M]),_:1}),r(a(n),{class:"pin"},{default:i(()=>[r(a(C),{class:"mt-3",label:"Enter the code",modelValue:o.code,"onUpdate:modelValue":m[0]||(m[0]=V=>o.code=V)},null,8,["modelValue"]),s.value?E("",!0):(_(),f(a(A),{key:0,class:"pin__text basic-link",onClick:h},{default:i(()=>[v("Resend OTP")]),_:1}))]),_:1}),v(" "+I(o)+" ",1),r(a(L),{"margin-top":"20px","color-scheme":"primary",text:"Continue",responsive:!0,loading:t.value},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1}))}};var H=b(q,[["__scopeId","data-v-7dbb413d"]]);export{H as default};
