import{_ as f,u as x,b as o,s as g,B as v,d as l,w as t,o as d,e as a,f as e,Q as S,k as n,g as b,A as w,v as y,T as k}from"./index.30c974e3.js";import{D as W}from"./DashboardLayout.92a7caee.js";import{E as C}from"./EmptyState.4ccea042.js";import{u as L}from"./useAxios.c0777327.js";import"./NavBar.fdafe172.js";import"./setMetadata.d1028241.js";const V={__name:"StudentListView",setup(N){const m=x(),c=o(!1);g(()=>{p()});const _=o([{display:"Student ID",dataSelector:"student_id",uppercase:!0,sortable:!0,width:"",minWidth:"",maxWidth:""},{display:"Student Name",dataSelector:"student_name",uppercase:!0,sortable:!0,width:"",minWidth:"",maxWidth:""},{display:"Email",dataSelector:"student_email",uppercase:!0,width:"",minWidth:"",maxWidth:""},{display:"Action",dataSelector:"action",uppercase:!0,sortable:!1,filterable:!1,width:"",minWidth:"",maxWidth:""}]),i=o([]),p=()=>{c.value=!0,L({url:"/get-students",callback:u=>{u.status==="success"?(i.value=[],u.data.forEach(s=>{i.value.push({student_id:s.user.unique_id,student_name:s.user.first_name+" "+s.user.last_name,student_email:s.user.email})})):pushToast({description:u.message,colorScheme:"error"})},final:()=>{c.value=!1}})};return(u,s)=>{const h=v("d-text");return d(),l(W,{title:"Student List"},{default:t(()=>[a(e(n),{class:"inner-content"},{default:t(()=>[a(e(S),null,{default:t(()=>[a(e(n),{class:"card","margin-top":"20px"},{default:t(()=>[a(h,{class:"title"},{default:t(()=>[b("Student List")]),_:1}),a(e(n),{is:"hr",margin:"20px 0"}),i.value.length>0?(d(),l(e(n),{key:0},{default:t(()=>[a(e(w),{"enable-csv-export":"","enable-customize-view":"","button-actions-alignment":"right",columns:_.value,data:i.value,paginate:!0,generatedCsvName:"student_list_info",loading:!0,search:!0,"paginate-right":"","color-scheme":"primary"},{"item.status":t(r=>[a(e(y),{subtle:!0,"font-weight":"bold",size:"huge",text:r.status,"color-scheme":r.colorScheme},null,8,["text","color-scheme"])]),"item.action":t(r=>[a(e(k),{"color-scheme":"primary",text:"View",size:"medium",onClick:A=>e(m).push({name:"Student_details",params:{id:r.student_id}})},null,8,["onClick"])]),_:1},8,["columns","data"])]),_:1})):(d(),l(C,{key:1}))]),_:1})]),_:1})]),_:1})]),_:1})}}};var K=f(V,[["__scopeId","data-v-7ed2ae3b"]]);export{K as default};
