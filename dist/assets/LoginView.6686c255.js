import{_ as b,u as x,r as L,a as V,b as y,U as S,c as h,d as k,w as a,o as R,e,f as o,m as p,k as n,g as l,R as _,T as A,h as T}from"./index.30c974e3.js";import{A as U}from"./AuthLayout.aaad10c6.js";import{u as D}from"./setMetadata.d1028241.js";import{u as E}from"./useAxios.c0777327.js";const I={__name:"LoginView",setup(B){const c=x(),d=c.currentRoute.value.meta.title,t=L({email:"",password:""}),f=V(),i=y(!1);D({title:d,description:d});const{pushToast:m}=S(),{addDataToLocalStorage:g,getDataFromLocalStorage:F,removeLocalStorage:w}=h(),v=()=>{i.value=!0,E({url:"/login",payload:t,callback:s=>{s.status==="success"?(m({description:s.message,colorScheme:"success"}),w(),g(s.data),f.setRoles(s.data.user.role),c.push({name:"overview"})):m({description:s.message,colorScheme:"error"})},final:()=>{i.value=!1}})};return(s,r)=>(R(),k(U,{title:"Log in",description:"Welcome back, provide your login details below to access your account."},{default:a(()=>[e(o(n),{is:"form",onSubmit:T(v,["prevent"])},{default:a(()=>[e(o(p),{class:"mt-3",placeholder:"Input your User Email Address",label:"Email Address",modelValue:t.email,"onUpdate:modelValue":r[0]||(r[0]=u=>t.email=u)},null,8,["modelValue"]),e(o(p),{class:"mt-3",placeholder:"Enter password",label:"Password","is-password":!0,modelValue:t.password,"onUpdate:modelValue":r[1]||(r[1]=u=>t.password=u)},null,8,["modelValue"]),e(o(n),{class:"forgot__password__box"},{default:a(()=>[l(" Forgot your password? "),e(o(_),{to:{name:"forgot-password"},class:"basic-link"},{default:a(()=>[l(" Reset Password ")]),_:1})]),_:1}),e(o(A),{is:"button",class:"mt-2","color-scheme":"primary",text:"Login",responsive:!0,loading:i.value},null,8,["loading"]),e(o(n),{is:"p",class:"info__text","margin-top":"15px"},{default:a(()=>[l(" Don't have an account? Sign up as an "),e(o(_),{to:{name:"instructor_register"},class:"basic-link"},{default:a(()=>[l("Instructor")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}))}};var K=b(I,[["__scopeId","data-v-1f188a5f"]]);export{K as default};
