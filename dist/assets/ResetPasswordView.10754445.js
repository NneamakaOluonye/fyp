import{u as h,U as y,c as R,b as m,r as k,d as w,w as a,o as g,e as s,q as x,f as e,k as r,l as C,m as _,g as d,i as P,T as L,W as V,R as N,h as T}from"./index.30c974e3.js";import{A as U}from"./AuthLayout.aaad10c6.js";import{u as M}from"./setMetadata.d1028241.js";import{u as v}from"./useAxios.c0777327.js";const A=["onSubmit"],F={__name:"ResetPasswordView",setup(B){const p=h();M({title:"LMS || Reset Password",description:"LMS || Reset Password"});const{pushToast:u}=y(),{addDataToLocalStorage:D,getDataFromLocalStorage:f}=R();m(1);const n=m(!1),c=m(!1),t=k({code:"",password:"",password_confirmation:"",email:""}),S=()=>{n.value=!0,c.value=!0,v({url:"/forgot-password",payload:{email:f("Password_reset").email},callback:o=>{o.status==="success"?(u({description:o.message,colorScheme:"success"}),p.push({name:"login"})):u({description:o.message,colorScheme:"error"})},final:()=>{c.value=!1,n.value=!1}})},b=()=>{n.value=!0,v({url:"/reset-password",payload:{...t,email:f("Password_reset").email},callback:o=>{o.status==="success"?(u({description:o.message,colorScheme:"success"}),p.push({name:"login"})):u({description:o.message,colorScheme:"error"})},final:()=>{n.value=!1}})};return(o,l)=>(g(),w(U,{title:"Reset Your Password"},{default:a(()=>[s(e(r),null,{default:a(()=>[x("form",{onSubmit:T(b,["prevent"])},[s(e(r),{"margin-y":"1rem"},{default:a(()=>[s(e(C),{"no-of-characters":6,placeholder:"-",label:"Code",modelValue:t.code,"onUpdate:modelValue":l[0]||(l[0]=i=>t.code=i)},null,8,["modelValue"])]),_:1}),s(e(r),{"margin-top":"2rem"},{default:a(()=>[s(e(_),{"is-password":!0,label:"New Password",placeholder:"Enter your new password",modelValue:t.password,"onUpdate:modelValue":l[1]||(l[1]=i=>t.password=i)},null,8,["modelValue"])]),_:1}),s(e(r),{"margin-top":"2rem"},{default:a(()=>[s(e(_),{"is-Password":!0,label:"Re-Enter New password",placeholder:"Re-enter your new password",modelValue:t.password_confirmation,"onUpdate:modelValue":l[2]||(l[2]=i=>t.password_confirmation=i)},null,8,["modelValue"])]),_:1}),c.value?P("",!0):(g(),w(e(r),{key:0,is:"p",class:"info__text","text-align":"center","margin-top":"3rem"},{default:a(()=>[d(" Not received a code? "),s(e(r),{is:"span",cursor:"pointer",class:"basic-link",onClick:S},{default:a(()=>[d("Resend Code")]),_:1})]),_:1})),s(e(r),{"margin-y":"1rem"},{default:a(()=>[s(e(L),{size:"xlarge","color-scheme":"primary",responsive:"",loading:n.value},{default:a(()=>[d("Continue ")]),_:1},8,["loading"])]),_:1}),s(e(r),{"margin-top":"2rem"},{default:a(()=>[s(e(V),{center:"","font-face":"circularSTD",class:"info__text"},{default:a(()=>[d("Remember your password? "),s(e(V),{class:"basic-link",is:e(N),"text-decoration":"none",to:{name:"login"}},{default:a(()=>[d("Sign In ")]),_:1},8,["is"])]),_:1})]),_:1})],40,A)]),_:1})]),_:1}))}};export{F as default};
